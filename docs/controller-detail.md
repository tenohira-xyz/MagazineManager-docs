# 雑誌詳細画面のコントローラ
- クラス名：`DetailController`

## 初期表示
- リクエストメソッド：GET
- リクエストURL：`/detail/{雑誌ID}`
- 実行権限：全て

### 処理内容
1. 「雑誌ID」を[雑誌サービスクラスの存在チェックメソッド](service-magazine.md#存在チェックメソッド（雑誌ID）)に渡し、指定した雑誌情報が存在するかチェックする。
    - 存在しない場合、[雑誌非存在例外](exception.md#雑誌非存在例外)を発生させる。発生した例外は[ハンドラメソッド](controller-detail.md#雑誌非存在例外ハンドラ)で処理する。
1. 「雑誌ID」を[雑誌サービスクラスの単一レコード取得メソッド](service-magazine.md#単一レコード取得メソッド)に渡し、指定した雑誌情報を取得する。
1. 取得した情報を雑誌詳細画面のフォームに詰める。
1. [雑誌詳細画面のView](screen-detail.md#View名)を返す。

## 登録
- リクエストメソッド：POST
- リクエストURL：`/detail/{雑誌ID}/update`
- 実行権限：管理者権限

### 処理内容
1. 「雑誌ID」を[雑誌サービスクラスの存在チェックメソッド](service-magazine.md#存在チェックメソッド（雑誌ID）)に渡し、指定した雑誌情報が存在するかチェックする。
    - 存在しない場合、[雑誌非存在例外](exception.md#雑誌非存在例外)を発生させる。発生した例外は[ハンドラメソッド](controller-detail.md#雑誌非存在例外ハンドラ)で処理する。
1. 入力チェックを行う。
    - エラーがある場合は[雑誌詳細画面（当画面）のView](screen-detail.md#View名)を返す。
1. 「雑誌ID」「雑誌名」「号数」「出版社」「発行日」を[雑誌サービスクラスの更新メソッド](service-magazine.md#更新メソッド)に渡して、更新処理を実行する。
1. 更新処理の実行結果を比較する。
    - 成功した場合、[雑誌一覧画面のView](screen-magazinelist.md#View名)を返す。
    - 失敗した場合、[共通エラー画面のView]()を返す。

## 雑誌非存在例外ハンドラ
- 処理対象の例外：[雑誌非存在例外](exception.md#雑誌非存在例外)

### 処理内容
1. 画面に表示する[エラーメッセージ](exception.md#雑誌非存在例外)を定義する。
1. [共通エラー画面のView]()を返す。

