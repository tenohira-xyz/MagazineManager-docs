# 改善リスト

- [x] READMEの整理
    <!-- - 概要
    - 環境
        - java:11
    - 起動方法
        - コマンドラインから起動
    - 管理者アカウントについて
    - ドキュメントのリンクを下部に記載（暫定）
        - 後にWikiなどに移動する -->
- [ ] テストケースの設計書の改善
    - テストケースの一覧を作成する
    - 1ケース1ページに分ける
    - フォルダに分ける
- [ ] 設計書の整理
    - [ ] 基本設計
    - [ ] 詳細設計
        - リポジトリクラス
        - サービスクラス
    - [ ] テストケース
        - 共通
            - テストケースの内容とテストデータは同じページにまとめる
            - テスト対象メソッドの実行前後のチェック項目を表形式でまとめる（期待値、実際値）
        - リポジトリクラス
            - テーブル内のレコードの変化も確認する
            - 入力値のパターンを網羅する
        - サービスクラス
            - 入力・出力のパターンを網羅する
            - データ取得系のデータの確認はするが、更新系の確認はしない（戻り値チェックのみ）
- [ ] サービスクラスで例外を発生させる
    - 雑誌リポジトリクラスの存在チェック
        - 同じ雑誌のレコードは登録できないよう設計しているので、取得数が2以上あるものは例外を発生させる。
    - 登録・更新時に引数のオブジェクトがnullの場合
        - org.springframework.dao.DataIntegrityViolationException
        - [x] とりあえずDataAccessExceptionで一律例外キャッチ
- [ ] 各サービスの登録・削除系のメソッド内で、存在チェック処理を行うようにする
    - 各例外はサービスメソッドで発生させる（上記「サービスクラスで例外を発生させる」と同じ）
    - コントローラ内で呼び出す処理を減らす
- [ ] リクエストURLの整理
    - POSTの場合、ボタンのvalueに値を設定する等でURLに変数を含まないようにする。
    - 動的フォームに対する操作（追加、削除。登録、更新）は同じURLにする。
    - ボタン名で処理を振り分けるようにする。
- [ ] 入力フォームの文字数制限などHTML側の設定を追加する。
- [ ] SQLクエリで並び順を指定して取得するようにする。
- [ ] 登録・更新・削除ボタン押下時に確認画面を出すようにする
- [ ] Lombokの`@AllArgsConstructor`で全てのフィールドを引数に持つコンストラクタを作成する
    - コード記述量の削減
- [ ] Javadocの記述
- [ ] リポジトリクラスのメソッドの戻り値の変更
    - insert: void
    - update: boolean
    - delete: boolean
- [ ] テストケースの番号を整理する
    - 番号ではなく名前付けを工夫する
    - SQLファイル等もテストケースのメソッド名に合わせる
- [ ] 削除が失敗した時のロールバック処理を追加する
- [ ] HtmlTestによるテストを行うようにする
- [ ] Seleniumによるテストを行うようにする
- [ ] CSSフレームワークを適用する
    - 今のところBootstrapが優先
- [ ] 雑誌IDが未指定の場合など、単体テストケースを追加する

