# 雑誌リポジトリクラスの単体テスト

## 1.存在チェックメソッド（雑誌ID）
### 指定した雑誌が存在する場合
#### テストデータ
##### ファイル名
`/repository/magazine-1.sql`
##### 雑誌テーブル
|雑誌ID|雑誌名|号数|出版社|発行日|更新日付|
|:--|:--|:--|:--|:--|:--|
|1|テスト雑誌1-1|テスト号数1-1|テスト出版社1-1|2020-01-01|(CURRENT_TIMESTAMP)|
#### テスト内容
|メソッド|引数|戻り値（期待値）|
|:--|:--|:--|
|存在チェックメソッド（雑誌ID）|1|1|

### 指定した雑誌が存在しない場合
#### テストデータ
##### ファイル名
`/repository/magazine-1.sql`
##### 雑誌テーブル
|雑誌ID|雑誌名|号数|出版社|発行日|更新日付|
|:--|:--|:--|:--|:--|:--|

#### テスト内容
|メソッド|引数|戻り値（期待値）|
|:--|:--|:--|
|存在チェックメソッド（雑誌ID）|2|0|
|1|テスト雑誌1-1|テスト号数1-1|テスト出版社1-1|2020-01-01|(CURRENT_TIMESTAMP)|
## 2.存在チェックメソッド（雑誌名、号数）
### 指定した雑誌が存在する場合
#### テストデータ
##### ファイル名
`/repository/magazine-2.sql`
##### 雑誌テーブル
|雑誌ID|雑誌名|号数|出版社|発行日|更新日付|
|:--|:--|:--|:--|:--|:--|
|1|テスト雑誌2-1|テスト号数2-1|テスト出版社2-1|2020-01-01|(CURRENT_TIMESTAMP)|
#### テスト内容
|メソッド|引数（雑誌名）|引数（号数）|戻り値（期待値）|
|:--|:--|:--|:--|
|存在チェックメソッド（雑誌名、号数）|テスト雑誌2-1|テスト号数2-1|1|

### 指定した雑誌が存在しない場合
#### テストデータ
##### ファイル名
`/repository/magazine-2.sql`
##### 雑誌テーブル
|雑誌ID|雑誌名|号数|出版社|発行日|更新日付|
|:--|:--|:--|:--|:--|:--|
|1|テスト雑誌2-1|テスト号数2-1|テスト出版社2-1|2020-01-01|(CURRENT_TIMESTAMP)|
#### テスト内容
|メソッド|引数（雑誌名）|引数（号数）|戻り値（期待値）|
|:--|:--|:--|:--|
|存在チェックメソッド（雑誌名、号数）|テスト雑誌2-2|テスト号数2-2|0|

## 3.単一レコード取得メソッド
### 指定した雑誌が存在する場合
#### テストデータ
##### ファイル名
`/repository/magazine-3.sql`
##### 雑誌テーブル
|雑誌ID|雑誌名|号数|出版社|発行日|更新日付|
|:--|:--|:--|:--|:--|:--|
|1|テスト雑誌3-1|テスト号数3-1|テスト出版社3-1|2020-01-01|(CURRENT_TIMESTAMP)|
#### テスト内容
|メソッド|引数|戻り値（期待値）|
|:--|:--|:--|
|単一レコード取得メソッド|1|下記参照|
##### 戻り値の期待値
|雑誌名|号数|出版社|発行日|
|:--|:--|:--|:--|
|テスト雑誌3-1|テスト号数3-1|テスト出版社3-1|2020-01-01|

### 指定した雑誌が存在しない場合
#### テストデータ
##### ファイル名
##### 雑誌テーブル
`/repository/magazine-3.sql`
#### テスト内容
|メソッド|引数|戻り値（期待値）|
|:--|:--|:--|
|単一レコード取得メソッド|2|null|

## 4.複数レコード取得メソッド
### 雑誌が1件以上存在する場合
#### テストデータ
##### ファイル名
`/repository/magazine-4.sql`
##### 雑誌テーブル
|雑誌ID|雑誌名|号数|出版社|発行日|更新日付|
|:--|:--|:--|:--|:--|:--|
|1|テスト雑誌4-1|テスト号数4-1|テスト出版社4-1|2020-01-01|(CURRENT_TIMESTAMP)|
|2|テスト雑誌4-2|テスト号数4-2|テスト出版社4-2|2019-12-31|(CURRENT_TIMESTAMP)|
|3|□□□□□□□□□■□□□□□□□□□■□□□□□□□□□■|□□□□□□□□□■□□□□□□□□□■|□□□□□□□□□■□□□□□□□□□■|2019-12-31|(CURRENT_TIMESTAMP)|
#### テスト内容
|メソッド|引数|戻り値（期待値）|
|:--|:--|:--|
|複数レコード取得メソッド|なし|下記参照|
##### 戻り値の期待値
- 件数：3

|雑誌ID|雑誌名|号数|
|:--|:--|:--|
|1|テスト雑誌4-1|テスト号数4-1|
|2|テスト雑誌4-2|テスト号数4-2|
|3|□□□□□□□□□■□□□□□□□□□■□□□□□□□□□■|□□□□□□□□□■□□□□□□□□□■|

### 雑誌が存在しない場合
#### テストデータ
##### ファイル名
`/repository/magazine-4.sql`
##### 雑誌テーブル
|雑誌ID|雑誌名|号数|出版社|発行日|更新日付|
|:--|:--|:--|:--|:--|:--|
|1|テスト雑誌4-1|テスト号数4-1|テスト出版社4-1|2020-01-01|(CURRENT_TIMESTAMP)|
|2|テスト雑誌4-2|テスト号数4-2|テスト出版社4-2|2019-12-31|(CURRENT_TIMESTAMP)|
|3|□□□□□□□□□■□□□□□□□□□■□□□□□□□□□■|□□□□□□□□□■□□□□□□□□□■|□□□□□□□□□■□□□□□□□□□■|2019-12-31|(CURRENT_TIMESTAMP)|
#### テスト内容
|メソッド|引数|戻り値（期待値）|
|:--|:--|:--|
|複数レコード取得メソッド|なし|下記参照|
##### 戻り値の期待値
- 件数：0

|雑誌ID|雑誌名|号数|
|:--|:--|:--|

## 5.削除メソッド
### 指定した雑誌が存在する場合
#### テストデータ
##### ファイル名
`/repository/magazine-5.sql`
##### 雑誌テーブル
|雑誌ID|雑誌名|号数|出版社|発行日|更新日付|
|:--|:--|:--|:--|:--|:--|
|1|テスト雑誌5-1|テスト号数5-1|テスト出版社5-1|2020-01-01|(CURRENT_TIMESTAMP)|
#### テスト内容
|メソッド|引数|戻り値（期待値）|
|:--|:--|:--|
|削除メソッド|1|1|
#### メソッド実行前後のレコード数の検証
|タイミング|期待値|
|:--|:--|
|実行前|1|
|実行後|0|

### 指定した雑誌が存在しない場合
#### テストデータ
##### ファイル名
`/repository/magazine-5.sql`
##### 雑誌テーブル
|雑誌ID|雑誌名|号数|出版社|発行日|更新日付|
|:--|:--|:--|:--|:--|:--|
|1|テスト雑誌5-1|テスト号数5-1|テスト出版社5-1|2020-01-01|(CURRENT_TIMESTAMP)|
#### テスト内容
|メソッド|引数|戻り値（期待値）|
|:--|:--|:--|
|削除メソッド|2|0|
#### メソッド実行前後のレコード数の検証
|タイミング|期待値|
|:--|:--|
|実行前|1|
|実行後|1|

## 6.登録メソッド
#### テストデータ
なし
#### テスト内容
|メソッド|引数|戻り値（期待値）|
|:--|:--|:--|
|登録メソッド|下記参照|1|
##### 引数に渡す雑誌オブジェクト
|雑誌名|号数|
|:--|:--|
|テスト雑誌6-1|テスト号数6-1|
#### メソッド実行前後のレコード数の検証
|タイミング|期待値|
|:--|:--|
|実行前|0|
|実行後|1|
#### メソッド実行後のテーブルの検証
|雑誌名|号数|
|:--|:--|
|テスト雑誌6-1|テスト号数6-1|

## 7.更新メソッド
### 指定した雑誌が存在する場合
#### テストデータ
##### ファイル名
`/repository/magazine-7.sql`
##### 雑誌テーブル
|雑誌ID|雑誌名|号数|出版社|発行日|更新日付|
|:--|:--|:--|:--|:--|:--|
|1|テスト雑誌7-1|テスト号数7-1|テスト出版社7-1|2020-01-01|(CURRENT_TIMESTAMP)|
#### テスト内容
|メソッド|引数|戻り値（期待値）|
|:--|:--|:--|
|更新メソッド|下記参照|1|
##### 引数に渡す雑誌オブジェクト
|雑誌ID|雑誌名|号数|出版社|発行日|
|:--|:--|:--|:--|:--|
|1|テスト雑誌7-2|テスト号数7-2|テスト出版社7-2|2019-12-31|
#### メソッド実行前後のレコード数の検証
|タイミング|期待値|
|:--|:--|
|実行前|1|
|実行後|1|
#### メソッド実行後のテーブルの検証
|雑誌ID|雑誌名|号数|出版社|発行日|
|:--|:--|:--|:--|:--|
|1|テスト雑誌7-2|テスト号数7-2|テスト出版社7-2|2019-12-31|

### 指定した雑誌が存在しない場合
#### テストデータ
##### ファイル名
`/repository/magazine-7.sql`
##### 雑誌テーブル
|雑誌ID|雑誌名|号数|出版社|発行日|更新日付|
|:--|:--|:--|:--|:--|:--|
|1|テスト雑誌7-1|テスト号数7-1|テスト出版社7-1|2020-01-01|(CURRENT_TIMESTAMP)|
#### テスト内容
|メソッド|引数|戻り値（期待値）|
|:--|:--|:--|
|更新メソッド|下記参照|0|
##### 引数に渡す雑誌オブジェクト
|雑誌ID|雑誌名|号数|出版社|発行日|
|:--|:--|:--|:--|:--|
|2|テスト雑誌7-2|テスト号数7-2|テスト出版社7-2|2019-12-31|

